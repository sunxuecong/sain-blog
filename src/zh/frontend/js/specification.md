# 前端代码规范

## 一. 文件命名规范

### 常见名称形式

命名规范是编程规范中最重要的一部分，它直接影响到代码的可读性和可维护性

- `camelCase` 小驼峰式命名法（首字母小写）
- `PascalCase` 大驼峰式命名法（首字母大写）
- `snake_case` 下划线命名法
- `kebab-case` 短横线命名法
- `UPPER_CASE` 大写命名法

### 项目名

全部采用短横线命名法。 🌰： `my-project-name`

### 目录名

全部使用短横线命名法 。有复数结构时，要采用复数命名法。🌰：`src / mixins / hooks/ components / docs /api-dcde `

### 图像文件名

采用下划线命名法， 优先选择单个单词命名，多个单词命名以**下划线**分隔。🌰：

```
logo.png
top.png
logo_police.jpg
logo_national.gif
pic_people.jpg
pic_TV.jpg
```

**注： 文件名称中禁止出现中文**

### JS、CSS、LESS、HTML、VUE  文件命名

采用短横线命名法，优先选择单个单词命名。🌰：

```js
signup.css
index.html
signup.less
render-dom.js
index.vue
```

**注：Vue组件文件使用大写驼峰式命名法。** 🌰：

```js
Dialog.vue
MyComponent.vue
TodoItem.vue
Dialog.jsx
```

## 二. 代码命名规范

### JavaScript 命名规范

- 变量使用小驼峰式命名法。🌰 `const maxCount = 1996`
- 函数使用小驼峰式命名法 🌰 `function getUserInfo() {}`
- 对象 `key` 使用小驼峰式命名法。🌰 `const user = { userName: 'maomao' }`
- 路由 `path` 使用短横线命名法。🌰 `path: '/user-info'`
- 常量使用大写命名法。🌰 `const MAX_COUNT = 1996`
- `class` 类名使用大驼峰式命名法。🌰 `class User {}`

| 常用命名前缀   | 含义                        | 🌰                               |
| :------------- | :-------------------------- | :------------------------------ |
| **`can`**      | 判断是否可执行某个动作      | `canDelete()` 是否可删除        |
| **`has`**      | 判断是否含有某个值          | `hasPermission()` 是否有权限    |
| **`is`**       | 判断是否为某个值            | `isActive` 是否处于活动状态     |
| **`get`**      | 获取某个值                  | `getUserName()` 获取用户名      |
| **`set`**      | 设置某个值                  | `setUserName()` 设置用户名      |
| **`reset`**    | 重置某个值                  | `resetUserName()` 重置用户名    |
| **`clear`**    | 清除某个值                  | `clearUserName()` 清除用户名    |
| **`format`**   | 格式化某个值                | `formatDate()` 格式化日期       |
| **`validate`** | 验证某些值或条件            | `validateUserName()` 验证用户名 |
| **`create`**   | 创建操作                    | `createUser()` 创建用户对象     |
| **`delete`**   | 删除操作                    | `deleteUser()` 删除用户         |
| **`update`**   | 更新操作                    | `updateUser()` 更新用户         |
| **`render`**   | 渲染视图或 UI 元素          | `renderTable()` 渲染表格        |
| **`on`**       | 用于组件对外暴露事件        | `onSubmit()` 提交表单           |
| **`handle`**   | 用于事件处理函数的命名      | `handleClick()` 点击事件        |
| **`use`**      | `React / Vue` 自定义 `hook` | `useFetch()` 自定义请求 `hook`  |

### HTML 标签属性命名规范

- `html` 标签属性使用短横线命名法。🌰 `<div class="user-info" data-index="0"></div>`

### CSS代码 命名规范

- 类名使用短横线命名法。🌰 `.user-info`
- `ID` 使用小驼峰式命名法。🌰 `#userInfo`
- 自定义变量使用短横线命名法。🌰 `--main-color: #fff`

## 三. 命名严谨性

- 命名应符合语义化,要**望文知义**
- 所有文件和目录中都`不应出现中文`
- 尽量减少缩写的情况发生, 反例：AbstractClass“缩写”命名成 AbsClass，此类随意缩写严重降低了代码的可阅读性



## 四. JavaScript 代码规范

| 命名规范 | 1. 普通命名采用小驼峰式命名 2. 命名是复数的时候需要加s 3. 命名需要符合语义化，尽量减少缩写的情况发生，做到见名知意，如果函数命名，可以采用加上动词前缀 |
| -------- | ------------------------------------------------------------ |
| 变量规范 | 1. 变量定义尽量使用const、let 2. 变量兜底                    |
| 字符串   | 1. 统一使用单引号而不是双引号，配置安装eslint后，保存会自动格式化处理 2. 用字符串模板而不是'+'来拼接字符串 3. 不要使用不必要的转义字符 4. 不要在字符串中用eval()，漏洞太多 |
| 数组     | 1. 用扩展运算符（...）做数组浅拷贝 2. 使用数组解构           |
| 对象     | 1. ES6 使用属性值缩写，将属性的缩写放在对象声明的开头 2. 对象浅拷贝时，更推荐使用扩展运算符 ...使用对象解构 |
| 函数     | 1. 函数参数使用默认值替代使用条件语句进行赋值 2. 函数参数越少越好，如果参数超过两个，要使用 ES6 的解构语法，不用考虑参数的顺序。把默认参数赋值放在最后 3. 尽量使用箭头函数 4. 用命名函数表达式而不是函数声明,函数声明作用域会提升，降低了代码可读性和可维护性 5. 不要改参数，不要对参数重新赋值 6. 功能函数使用纯函数，输入一致，输出结果永远唯一 7. 优先使用函数式编程 |

- 条件判断和循环最多三层

#### 使用解构赋值处理对象、数组的赋值

正例：

```javascript
const obj = {
  a: '1',
  b: '2',
  c: '3'
};
let {a,b,c} = obj;
```

反例：

```javascript
const obj = {
  a: '1',
  b: '2',
  c: '3'
};
let a = obj.a;
let b = obj.b;
let c = obj.c;
```

#### 括号

下列关键字后必须有大括号（即使代码块的内容只有一行）：if, else, for, while, do, switch, try, catch, finally, with。

正例：

```javascript
if (condition) {
  doSomething();
}
```

反例：

```javascript
if (condition) doSomething();
```

####  条件判断和循环最多三层

条件判断能使用三目运算符和逻辑运算符解决的，就不要使用条件判断，但是谨记不要写太长的三目运算符。如果超过 3 层请抽成函数，并写清楚注释。

```
2) 删除无用代码
因使用了 git/svn 等代码版本工具，对于无用代码必须及时删除，例如：一些调试的 console 语句、无用的弃用功能代码
```



## 五. Vue 项目规范



| 模板中简单的表达式 | 组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法 |
| ------------------ | ------------------------------------------------------------ |
| 简单的计算属性     | 应该把复杂计算属性分割为尽可能多的更简单的property，计算属性不能产生副作用 |



| 简单的计算属性 | 应该把复杂计算属性分割为尽可能多的更简单的property，计算属性不能产生副作用 |
| -------------- | ------------------------------------------------------------ |
|                |                                                              |

| 事件、定时器 | 清除定时器或者事件监听 |
| ------------ | ---------------------- |
|              |                        |

不要改变 vue 的单向数据流

| 为组件样式设置作用域，使用scoped属性，使用BEM约定 |
| ------------------------------------------------- |
|                                                   |

### 文件目录

| 名称     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 资源     | 资源统一放置在 assets 文件夹下，资源以文件夹组织，文件夹名称即模块名称 |
| 公共方法 | 放置在utils内部                                              |
| 样式     | BEM命名规范                                                  |

.v-for中key值绑定，尽量不要绑定index，使用id，如果没有id且不涉及添加删除操作时，可以绑定index





6. 空数据：接口返回数据为空兼容判断

7. 数组遍历for循环修改为for/of

\1. 类名：类名注意不要太简单，直接取name/title/desc之类的，容易和其他人写的类名冲突，比如别人写了同名的类名没有设置scoped或者全局类名，会影响自己的样式

CSS

新增文件单位件最高不超过1000行, 最高不超过2000行

开发过程中单个文件不允许超过1000行，特别复杂的功能，文件不允许超过1500行

```
正例：

<template>
  <p>{{ normalizedFullName }}</p>
</template>

// 复杂表达式已经移入一个计算属性
computed: {
  normalizedFullName: function () {
    return this.fullName.split(' ').map(function (word) {
      return word[0].toUpperCase() + word.slice(1)
    }).join(' ')
  }
}
反例：

<template>
  <p>
       {{
          fullName.split(' ').map(function (word) {
             return word[0].toUpperCase() + word.slice(1)
           }).join(' ')
        }}
  </p>
```



```
组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法。复杂表达式会让你的模板变得不那么声明式。我们应该尽量描述应该出现的是什么，而非如何计算那个值。而且计算属性和方法使得代码可以重用
2.1.6 v-show 与 v-if 选择
如果运行时，需要非常频繁地切换，使用 v-show ；如果在运行时，条件很少改变，使用 v-if
组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法。复杂表达式会让你的模板变得不那么声明式。我们应该尽量描述应该出现的是什么，而非如何计算那个值。而且计算属性和方法使得代码可以重用
2.1.6 v-show 与 v-if 选择
如果运行时，需要非常频繁地切换，使用 v-show ；如果在运行时，条件很少改变，使用 v-if
```

## 六. 写在最后

开发过程中单个文件不允许超过**1000**行，特别复杂的功能，文件不允许超过**1500**行

